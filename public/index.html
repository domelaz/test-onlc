<!DOCTYPE html>
<html ng-app="search">
	<head>
		<title>test-onlc search page prototype</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
		<link href="css/onlc.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div class="container">
			<div class="row search-form">
				<div class="col-md-8 col-md-offset-2">
					<div class="panel panel-default">
						<div class="panel-body">
							<form name="search-form" ng-controller="SearchForm as form" ng-submit="form.find()">
								<div class="input-group">
									<input ng-keyup="form.keyup()" ng-model="form.searchQuery" name="search-query" type="text" placeholder=" {{form.placeholder}} " class="form-control">
									<span class="input-group-btn">
										<button class="btn btn-default disabled" type="submit"> {{form.findButtonText}} </button>
									</span>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
			<div class="row" ng-controller="SearchTroubles as trouble">
				<div class="col-md-8 col-md-offset-2" ng-show="trouble.inTrouble">
					<div class="alert alert-danger alert-dismissable">
						<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
						{{trouble.statusMessage}}
					</div>
				</div>
			</div>
			<div class="row search-results" ng-controller="SearchResults as result">
				<div class="col-md-8 col-md-offset-2">
					<div class="panel panel-default" ng-hide="{{result.isEmpty()}}">
						<!-- @todo extend currency filter-->
						<!-- @todo move locale strings-->
						<ul class="list-group">
							<li class="list-group-item" ng-repeat="result in result.results">
								<div>
									<h3>{{result.name}}</h3>
									<div class="search-list--iteminfo">Идентификатор:&nbsp;{{result.id}}</div>
									<div>
										<a href="#">{{result.company}}</a>&nbsp;·&nbsp;Источник: {{result.infosource}}
										<span class="pull-right">Количество:&nbsp;{{result.quant}}&nbsp;·&nbsp;{{result.id | currency:""}}&nbsp;руб.</span>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<script src="js/angular.js" type="text/javascript"></script>
		<script src="js/jquery.js" type="text/javascript"></script>
		<script src="js/bootstrap.min.js" type="text/javascript"></script>
		<script src="js/onlc.js" type="text/javascript"></script>
	</body>
</html>